<div class="min-h-screen bg-[#f6f6f6] py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-4xl mx-auto">
    <div class="flex justify-between items-center mb-8">
      <h2 class="text-3xl font-['Crimson_Pro'] font-bold text-gray-900">
        Review Suggestions for <span class="text-[#d97706]"><%= @trip.name %></span>
      </h2>
      <%= link_to "Back to Dashboard", trip_path(@trip), class: "text-gray-600 hover:text-gray-900 font-medium" %>
    </div>

    <div class="space-y-6">
      <% @recommendation_items.each do |item| %>
        <% activity = item.activity_item %>
        <% user_vote = item.votes.find_by(user: current_user) %>

        <div class="bg-white rounded-[20px] shadow-lg overflow-hidden flex flex-col md:flex-row">
          <div class="md:w-1/3 h-48 md:h-auto bg-gray-200 relative">
            <!-- Placeholder image -->
            <img src="https://images.unsplash.com/photo-1522083165195-3424ed129620?q=80&w=2000&auto=format&fit=crop" alt="<%= activity.name %>" class="w-full h-full object-cover">
            <div class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-semibold text-gray-700">
              <%= activity.activity_type %>
            </div>
          </div>

          <div class="p-6 md:w-2/3 flex flex-col justify-between">
            <div>
              <div class="flex justify-between items-start">
                <h3 class="text-xl font-bold text-gray-900 mb-2"><%= activity.name %></h3>
                <span class="text-[#d97706] font-semibold"><%= number_to_currency(activity.price, unit: "â‚¬") %></span>
              </div>
              <p class="text-gray-600 text-sm mb-4"><%= activity.description %></p>
              <div class="flex items-center text-xs text-gray-500 mb-4">
                <span class="bg-gray-100 px-2 py-1 rounded mr-2"><%= activity.activity_type %></span>
              </div>
            </div>

            <div class="flex items-center justify-between border-t pt-4 mt-2">
              <div class="text-sm text-gray-500">
                <% if user_vote %>
                  <% if user_vote.liked? %>
                    <span class="text-green-600 font-medium flex items-center">
                      <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                      You liked this
                    </span>
                  <% else %>
                    <span class="text-red-600 font-medium flex items-center">
                      <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                      You disliked this
                    </span>
                  <% end %>
                <% else %>
                  <span>Vote to help decide!</span>
                <% end %>
              </div>

              <div class="flex space-x-3">
                <%= button_to recommendation_item_votes_path(item, liked: false), method: :post, class: "p-2 rounded-full border border-gray-300 hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition #{'bg-red-50 border-red-300 text-red-600' if user_vote&.liked == false}" do %>
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"></path></svg>
                <% end %>

                <%= button_to recommendation_item_votes_path(item, liked: true), method: :post, class: "p-2 rounded-full border border-gray-300 hover:bg-green-50 hover:border-green-300 hover:text-green-600 transition #{'bg-green-50 border-green-300 text-green-600' if user_vote&.liked == true}" do %>
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.904 0 .715-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"></path></svg>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>

    <div class="mt-8 text-center">
      <% if @trip.user_trip_statuses.find_by(user: current_user).recommendation_reviewed? %>
        <div class="bg-green-50 p-4 rounded-lg inline-block">
          <p class="text-green-800 font-medium">You have reviewed all suggestions!</p>
          <p class="text-green-600 text-sm mt-1">Waiting for other participants...</p>
        </div>
      <% else %>
        <p class="text-gray-500">Please vote on all suggestions to complete your review.</p>
      <% end %>
    </div>
  </div>
</div>
